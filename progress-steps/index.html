<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Progress Steps</title>
	<link rel="stylesheet" href="../general-syles.css">
	<link rel="stylesheet" href="assets/styles.css">
</head>
<body>
	<div class="progresive-elements">
		<ul class="progresive-numbers">
			<li class="active">1</li>
			<li>2</li>
			<li>3</li>
			<li>4</li>
		</ul>
		<div class="progresive-bar"></div>
	</div>
	<div class="progresive-buttons">
		<button class="prev-button" disabled >Prev</button>
		<button class="next-button">Next</button>
	</div>
	<script>
		let cont = 1;
		let width = 0;

		const prevBtn = document.querySelector(".prev-button");
		const nextBtn = document.querySelector(".next-button");
		const progressiveBar = document.querySelector(".progresive-bar");

		nextBtn.addEventListener("click", (event) => {
			if(cont < 4){
				// console.log("before: ", cont);
				cont++;
				const liActive = document.querySelector("li:nth-child("+ cont +")");

				// console.log("after: ", cont);
				width = 344 * (cont - 1) / 3;
				progressiveBar.style.width = width + "px";

				// console.log(width);
				liActive.classList.add("active");
				prevBtn.removeAttribute("disabled");
			}
			if (cont >= 4) {
				nextBtn.setAttribute("disabled", "");
				cont = 4;
			}
			else {
				nextBtn.removeAttribute("disabled");
			}
		});

		prevBtn.addEventListener("click", (event) => {
			if(cont > 1){
				const liActive = document.querySelector("li:nth-child("+ cont +")");
				liActive.classList.remove("active");
				cont--;
				width = 344 * (cont - 1) / 3;
				progressiveBar.style.width = width + "px";
				nextBtn.removeAttribute("disabled");
			}
			if (cont <= 1) {
				prevBtn.setAttribute("disabled", "");
				cont = 1;
			}
			else {
				prevBtn.removeAttribute("disabled");
			}
		});
	</script>
</body>
</html>